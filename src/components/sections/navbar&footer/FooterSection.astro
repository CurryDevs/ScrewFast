---
import FooterSocialLink from "@components/ui/links/FooterSocialLink.astro";
import EmailFooterInput from "@components/ui/forms/input/EmailFooterInput.astro";
import enStrings from "@utils/navigation.ts";
import frStrings from "@utils/fr/navigation.ts";
import Icon from "@components/ui/icons/Icon.astro";
import BrandLogo from "@components/BrandLogo.astro";

const strings = Astro.currentLocale === "fr" ? frStrings : enStrings;
const sectionThreeTitle =
  Astro.currentLocale === "fr" ? "Rester à jour" : "Stay up to date";
const sectionThreeContent =
  Astro.currentLocale === "fr"
    ? "Restez informé des derniers outils et des offres exclusives."
    : "Stay updated with the latest tools and exclusive deals.";
const crafted = Astro.currentLocale === "fr" ? "Fabriqué par" : "Crafted by";
const agency = "CurryDevs";
---

<footer
  class="relative z-10 w-full overflow-hidden bg-gradient-to-tr from-[#0f0c29] via-[#302b63] to-[#24243e] text-neutral-200"
>
  <div class="mx-auto max-w-7xl px-6 py-24 sm:px-8 lg:px-12">
    <!-- Top Grid Section -->
    <div
      class="animate-fade-in-up grid grid-cols-1 gap-12 motion-safe:transition-all motion-safe:duration-1000 sm:grid-cols-2 lg:grid-cols-6"
    >
      <!-- Brand Section -->
      <div class="col-span-full space-y-5 lg:col-span-2">
        <BrandLogo
          class="motion-safe:animate-fade-in-up h-auto w-44 transition-transform duration-300 hover:scale-110"
        />
        <p class="max-w-sm text-base leading-relaxed text-neutral-300">
          CurryDevs — empowering brands with cutting-edge digital experiences,
          design, and development services that scale.
        </p>
      </div>

      <!-- Navigation Sections -->
      {
        strings.footerLinks.map((section) => (
          <div class="space-y-3">
            <h3 class="relative text-lg font-bold tracking-wide text-white uppercase after:mt-2 after:block after:h-0.5 after:w-8 after:bg-gradient-to-r after:from-red-500 after:to-purple-600">
              {section.section}
            </h3>
            <ul class="space-y-1">
              {section.links.map((link, idx) => (
                <li>
                  <a
                    href={link.url}
                    class="block text-sm text-neutral-400 transition duration-300 hover:translate-x-1 hover:text-red-400"
                  >
                    {link.name}
                  </a>
                  {section.section === "Company" && idx === 2 ? (
                    <span class="ml-2 inline-block animate-bounce rounded bg-gradient-to-r from-red-500 to-purple-600 px-2 py-0.5 text-xs font-bold text-white">
                      We're hiring!
                    </span>
                  ) : null}
                </li>
              ))}
            </ul>
          </div>
        ))
      }

      <!-- Newsletter Section -->
      <div class="col-span-full space-y-4 md:col-span-2 lg:col-span-2">
        <h3 class="text-lg font-semibold text-white">{sectionThreeTitle}</h3>
        <form class="motion-safe:animate-fade-in-up space-y-4">
          <EmailFooterInput />
          <p class="text-sm text-neutral-300">{sectionThreeContent}</p>
        </form>
      </div>
    </div>

    <!-- Divider -->
    <div
      class="motion-safe:animate-fade-in mt-16 flex flex-col items-center justify-between gap-6 border-t border-neutral-700 pt-6 sm:flex-row"
    >
      <!-- Left Copyright -->
      <p class="text-center text-sm text-neutral-400 sm:text-left">
        © <span id="current-year"></span>
        {agency}. {crafted}
        <a
          href="https://www.currydevs.com/"
          target="_blank"
          rel="noopener noreferrer"
          class="text-red-400 underline decoration-wavy transition duration-300 hover:text-purple-400 hover:decoration-solid"
        >
          CurryDevs
        </a>.
      </p>

      <!-- Social Media Icons -->
      <div class="flex gap-4">
        {
          Object.entries(strings.socialLinks).map(([key, url]) => (
            <FooterSocialLink url={url}>
              <Icon
                name={`${key}Footer`}
                class="motion-safe:animate-fade-in-up transform text-red-400 transition duration-300 hover:-translate-y-1 hover:text-purple-400"
              />
            </FooterSocialLink>
          ))
        }
      </div>
    </div>
  </div>

  <!-- Decorative Glows -->
  <div
    class="pointer-events-none absolute right-0 bottom-0 h-60 w-60 animate-pulse rounded-full bg-red-500 opacity-10 blur-3xl"
  >
  </div>
  <div
    class="pointer-events-none absolute top-0 left-0 h-60 w-60 animate-pulse rounded-full bg-purple-500 opacity-10 blur-3xl delay-500"
  >
  </div>

  <script>
    (function () {
      const el = document.getElementById("current-year");
      if (el) el.innerText = new Date().getFullYear().toString();
    })();
  </script>
</footer>
