---
// Import the necessary dependencies
import { Image } from "astro:assets";
import PrimaryCTA from "@components/ui/buttons/PrimaryCTA.astro";
import SecondaryCTA from "@components/ui/buttons/SecondaryCTA.astro";
import ReviewComponent from "@components/ui/blocks/ReviewComponent.astro";

// Define props from Astro
const {
  title,
  subTitle,
  primaryBtn,
  primaryBtnURL,
  secondaryBtn,
  secondaryBtnURL,
  withReview,
  avatars,
  starCount,
  rating,
  reviews,
  src,
  alt,
} = Astro.props;

// Define TypeScript interface for props
interface Props {
  title: string;
  subTitle?: string;
  primaryBtn?: string;
  primaryBtnURL?: string;
  secondaryBtn?: string;
  secondaryBtnURL?: string;
  withReview?: boolean;
  avatars?: Array<string>;
  starCount?: number;
  rating?: string;
  reviews?: string;
  src?: any;
  alt?: string;
}
---

<!-- Defining a responsive grid container that holds all the content -->
<section
  class="container-responsive xs:py-8 grid gap-6 py-6 sm:py-10 md:grid-cols-2 md:items-center md:gap-8 md:py-14 lg:gap-12 lg:py-18 xl:gap-16"
>
  <!-- Title and description -->
  <div class="order-2 md:order-1">
    <!-- Each h1 and p tag renders a portion of the title and subTitle defined above -->
    <h1
      class="xs:text-4xl block text-3xl leading-tight font-bold tracking-tight text-balance text-neutral-800 sm:text-5xl md:text-4xl lg:text-5xl xl:text-6xl dark:text-neutral-200"
    >
      <!-- About Fragment: https://docs.astro.build/en/basics/astro-syntax/#fragments -->
      <Fragment set:html={title} />
    </h1>
    {
      subTitle && (
        <p class="xs:text-xl mt-4 text-lg leading-relaxed text-pretty text-neutral-700 sm:text-2xl md:mt-6 md:text-xl lg:w-4/5 lg:text-2xl dark:text-neutral-400">
          {subTitle}
        </p>
      )
    }
    <!-- Action Button Section: Enhanced responsive button layout -->
    <div
      class="xs:mt-10 xs:flex-row xs:gap-6 mt-8 flex flex-col gap-4 sm:mt-12"
    >
      {primaryBtn && <PrimaryCTA title={primaryBtn} url={primaryBtnURL} />}
      {
        secondaryBtn && (
          <SecondaryCTA title={secondaryBtn} url={secondaryBtnURL} />
        )
      }
    </div>

    <!-- Review Section: Enhanced responsive review layout -->
    {
      withReview ? (
        <div class="mt-8 sm:mt-10 md:mt-12">
          <ReviewComponent
            avatars={avatars}
            starCount={starCount}
            rating={rating}
            reviews={reviews}
          />
        </div>
      ) : (
        ""
      )
    }
  </div>
  <!-- Hero Image Section: Enhanced responsive image -->
  <div class="order-1 md:order-2">
    <div
      class="hero-image-container relative rounded-2xl bg-gradient-to-br from-red-50 to-blue-50 shadow-2xl dark:from-red-900/20 dark:to-blue-900/20"
    >
      {
        src && alt && (
          <Image
            src={src}
            alt={alt}
            class="h-auto w-full rounded-2xl object-contain object-center transition-transform duration-700 hover:scale-105"
            draggable={"false"}
            loading={"eager"}
            format={"png"}
          />
        )
      }
      <!-- Enhanced overlay with gradient -->
      <div
        class="pointer-events-none absolute inset-0 rounded-2xl bg-gradient-to-t from-black/5 via-transparent to-transparent"
      >
      </div>
    </div>
  </div>
</section>
